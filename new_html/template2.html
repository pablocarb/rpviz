<!doctype html>

<html>

<head>
    <meta charset='utf-8'></meta>
    <title>Viewer</title>
    <script id="elements"></script>
    <script id="svg"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/cytoscape/3.7.0/cytoscape.min.js"></script>
    <script>
    function displaynet(network){
      var cy = cytoscape({
        container: $('#cy'),

        elements:network
      ,

      layout: {
            name: 'breadthfirst',
            //roots: "node[category = 'reactant']"
          },

        style: [
          {
          selector: "node",
          style: {
              "background-color": '#80D0D0',
              "label": "data(name)",
              "font-size": "7px"
              }
          },
          {selector: "node[category='reactions']",
          style: {
            'background-color': '#FA8072',
            'shape': 'roundrectangle'
             }},
         {selector: "node[category='reactant']",
         style: {
           'background-color': '#52be80',
            }},
         {
          selector: 'edge',
          style: {
            'curve-style': 'bezier',
            'width': '3px',
            'target-arrow-shape': 'triangle',
          }
        }]
      });

      cy.on('mouseover','node',function(e){
        var node_select=e.target;
        molecule=node_select.data("image");
        if(molecule){
        $("#molecule").append(molecule)};
      });

      cy.on('mouseout','node',function(e){
        $("#molecule").empty();
      });

      cy.on('tap','node',function(e){
        var node_select=e.target;
        console.log(node_select.data("name"));
        link=node_select.data("link");
        if(link){
          window.open(link)
        };
      });
      };

    $(function() {
      $("#selectbox").change(function(){
        value=$("#selectbox :selected").val();
        displaynet(obj[value]);
      });
    });
    </script>
</head>

<style>
    #cy {
        width: 80%;
        height: 100%;
        position: absolute;
        left : 20%;
    }

.interact{
  position:relative;
  width: 19%;
  height:100%;
}
#molecule{
  position : absolute;
  top : 80px;
}

</style>

<body>
  <div id="cy"></div>
  <div id="interaction" class="interact">
  <div id="molecule"></div>
  <form>
    Choose a pathway :
    <select id="selectbox">
      <option value="select">Select a pathway</option>
    </select>
  </form>
  </div>
</body>
</html>
